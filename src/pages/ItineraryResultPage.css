:root{
  --brand1:#f97316; --brand2:#ec4899;
  --ink-900:#0f172a; --ink-700:#334155; --ink-500:#64748b;
  --line:#e5e7eb; --card:#ffffff;
  --r-back:32px; --r-card:20px; --r-pill:999px;
  --stage-pad: clamp(16px, 3vw, 32px);
}

/* Stage container (same family as steps) */
.result-stage{
  width: min(92vw, 1180px);
  margin: 0 auto;
  border-radius: var(--r-back);
  background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.88));
  border: 1px solid #edf0f6;
  box-shadow: 0 26px 60px rgba(15,23,42,.16);
  padding: var(--stage-pad);
  overflow: hidden;
}
.result-inner{ min-height: clamp(420px, 52vh, 640px); }

.result-header{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:16px; margin-bottom: 16px;
}
.stage-title{ margin:0; font-size:24px; font-weight:800; color:var(--ink-900); }
.stage-note{ margin:8px 0 18px; color:var(--ink-700); }

.btn-ghost{
  border:1px solid #e6e8ef; border-radius:12px; padding:10px 18px;
  background:#eef1f6; color:#111827; font-weight:700; cursor:pointer;
  transition: filter .15s, box-shadow .15s, transform .15s;
}
.btn-ghost:hover{ filter:saturate(1.04); box-shadow:0 6px 16px rgba(15,23,42,.12); }

/* Grid */
.card-grid{
  display:grid; grid-template-columns: 1fr; gap:24px;
}
@media (min-width: 880px){ .card-grid{ grid-template-columns: 1fr 1fr; } }
@media (min-width: 1180px){ .card-grid{ grid-template-columns: 1fr 1fr 1fr; } }

/* Result card */
.res-card{
  display:flex; flex-direction:column;
  border:1px solid var(--line);
  border-radius: 18px;
  background:#fff;
  box-shadow: 0 12px 26px rgba(2,6,23,.10);
  overflow:hidden;
}
.res-media{ position:relative; aspect-ratio: 16 / 9; background:#f3f4f6; }
.res-media img{ width:100%; height:100%; object-fit:cover; display:block; }

.res-body{ padding:16px; display:flex; flex-direction:column; gap:12px; }
.res-title{ margin:0; font-size:18px; font-weight:800; color:var(--ink-900); }

/* Chips rail (same tokens as steps) */
.railWrap{ position:relative; }
.rail{
  display:flex; flex-wrap:nowrap; overflow-x:auto; gap:10px; padding:6px 2px;
  -webkit-overflow-scrolling: touch;
}
.rail::-webkit-scrollbar{ height:8px } 
.rail::-webkit-scrollbar-thumb{ background:#e5e7eb; border-radius:8px }

.chip{
  display:inline-flex; align-items:center; gap:8px; white-space:nowrap;
  padding:8px 14px; font-weight:700; font-size:13px; border-radius:999px;
  background:#fff; color:#1f2937; border:1px solid #d1d5db;
  box-shadow: 0 4px 12px rgba(15,23,42,.06);
}
.chip.badge{
  color:#fff; border:none;
  background:linear-gradient(90deg,var(--brand1),var(--brand2));
  box-shadow:0 10px 22px rgba(236,72,153,.28);
}

/* Inclusive price strip */
.priceStrip{
  margin-top:4px;
  border:1px solid var(--line);
  background:#f7f9fb;
  border-radius:14px;
  padding:14px 16px;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.priceStrip .note{ color:#0f172a; font-size:12px; opacity:.85; }
.priceStrip .right{ text-align:right; }
.priceStrip .pp{ font-size:20px; font-weight:800; }
.priceStrip .pp small{ font-size:12px; font-weight:600; margin-left:4px; color:#334155; }
.priceStrip .total{ font-size:12px; color:#64748b; }

/* Actions */
.card-actions{ display:flex; justify-content:flex-end; margin-top:6px; }
.btn-primary{
  border:0; border-radius:12px; padding:10px 18px; font-weight:700; cursor:pointer;
  color:#fff; background:linear-gradient(90deg,var(--brand1),var(--brand2));
  box-shadow:0 10px 22px rgba(236,72,153,.28);
  transition: transform .15s, box-shadow .15s, filter .15s;
}
.btn-primary:hover{ transform:translateY(-1px); box-shadow:0 16px 30px rgba(236,72,153,.35); }
.media-badge{
  position:absolute; top:10px; right:10px;
  padding:8px 14px; border-radius:999px;
  background:linear-gradient(90deg,var(--brand1),var(--brand2));
  color:#fff; font-weight:800; font-size:12px;
  box-shadow:0 12px 26px rgba(236,72,153,.36);
  display:inline-flex; align-items:center; gap:6px;
  max-width:75%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  pointer-events:none;  /* purely decorative */
}
.media-badge .label{ opacity:.95; font-weight:700; }

/* 1) Remove side fade scrims on the pill rail */
.result-card .railWrap::before,
.result-card .railWrap::after,
.railWrap::before,
.railWrap::after {
  content: none !important;
  display: none !important;
  width: 0 !important;
  background: none !important;
}

/* 2) Ensure the whole card (and its shadow) is visible */
.result-stage,
.result-inner,
.card-grid {
  overflow: visible !important;
}

/* 3) Safe gutters so cards don't touch the viewport edges */
.result-inner { padding-inline: clamp(8px, 2vw, 16px); }

/* If your grid was tight, keep a comfy gap and responsive columns */
.card-grid {
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}
